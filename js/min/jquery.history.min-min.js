"undefined"==typeof window.console&&(window.console={}),"undefined"==typeof window.console.emulated&&("function"==typeof window.console.log?window.console.hasLog=!0:("undefined"==typeof window.console.log&&(window.console.log=function(){}),window.console.hasLog=!1),"function"==typeof window.console.debug?window.console.hasDebug=!0:("undefined"==typeof window.console.debug&&(window.console.debug=window.console.hasLog?function(){for(var o=["console.debug:"],n=0;n<arguments.length;n++)o.push(arguments[n]);window.console.log.apply(window.console,o)}:function(){}),window.console.hasDebug=!1),"function"==typeof window.console.warn?window.console.hasWarn=!0:("undefined"==typeof window.console.warn&&(window.console.warn=window.console.hasLog?function(){for(var o=["console.warn:"],n=0;n<arguments.length;n++)o.push(arguments[n]);window.console.log.apply(window.console,o)}:function(){}),window.console.hasWarn=!1),"function"==typeof window.console.error?window.console.hasError=!0:("undefined"==typeof window.console.error&&(window.console.error=function(){var o="An error has occured.";if(window.console.hasLog){for(var o=["console.error:"],n=0;n<arguments.length;n++)o.push(arguments[n]);window.console.log.apply(window.console,o),o="An error has occured. More information is available in your browser's javascript console."}for(n=0;n<arguments.length&&"string"==typeof arguments[n];++n)o+="\n"+arguments[n];if("undefined"!=typeof Error)throw Error(o);throw o}),window.console.hasError=!1),"function"==typeof window.console.trace?window.console.hasTrace=!0:("undefined"==typeof window.console.trace&&(window.console.trace=function(){window.console.error("console.trace does not exist")}),window.console.hasTrace=!1),window.console.emulated=!0),function(o){o.History?window.console.warn("$.History has already been defined..."):(o.History={options:{debug:!1},state:"",$window:null,$iframe:null,handlers:{generic:[],specific:{}},extractHash:function(o){return o.replace(/^[^#]*#/,"").replace(/^#+|#+$/,"")},getState:function(){return o.History.state},setState:function(n){var e=o.History,n=e.extractHash(n);return e.state=n,e.state},getHash:function(){return o.History.extractHash(window.location.hash||location.hash)},setHash:function(n){return n=o.History.extractHash(n),"undefined"!=typeof window.location.hash?window.location.hash!==n&&(window.location.hash=n):location.hash!==n&&(location.hash=n),n},go:function(n){var e=o.History,n=e.extractHash(n),t=e.getHash(),r=e.getState();return n!==t?e.setHash(n):(n!==r&&e.setState(n),e.trigger()),!0},hashchange:function(){var n=o.History,e=n.getHash();return n.go(e),!0},bind:function(n,e){var t=o.History;return e?("undefined"==typeof t.handlers.specific[n]&&(t.handlers.specific[n]=[]),t.handlers.specific[n].push(e)):t.handlers.generic.push(n),!0},trigger:function(n){var e=o.History;"undefined"==typeof n&&(n=e.getState());var t,r,i,s;if("undefined"!=typeof e.handlers.specific[n])for(s=e.handlers.specific[n],t=0,r=s.length;r>t;++t)(i=s[t])(n);for(s=e.handlers.generic,t=0,r=s.length;r>t;++t)(i=s[t])(n);return!0},construct:function(){var n=o.History;return o(document).ready(function(){n.domReady()}),!0},configure:function(n){var e=o.History;return e.options=o.extend(e.options,n),!0},domReadied:!1,domReady:function(){var n=o.History;return n.domRedied?void 0:(n.domRedied=!0,n.$window=o(window),n.$window.bind("hashchange",this.hashchange),setTimeout(n.hashchangeLoader,200),!0)},nativeSupport:function(n){var n=n||o.browser,e=n.version,t=parseInt(e,10),r=e.split(/[^0-9]/g),e=parseInt(r[0],10),i=parseInt(r[1],10),r=parseInt(r[2],10),s=!1;return n.msie&&t>=8?s=!0:n.webkit&&t>=528?s=!0:n.mozilla?e>1?s=!0:1===e&&(i>9?s=!0:9===i&&r>=2&&(s=!0)):n.opera&&(e>10?s=!0:10===e&&i>=60&&(s=!0)),s},hashchangeLoader:function(){var n=o.History;if(n.nativeSupport())n.getHash()&&n.$window.trigger("hashchange");else{var e;if(o.browser.msie){n.$iframe=o('<iframe id="jquery-history-iframe" style="display: none;"></$iframe>').prependTo(document.body)[0],n.$iframe.contentWindow.document.open(),n.$iframe.contentWindow.document.close();var t=!1;e=function(){var o=n.getHash(),e=n.getState(),r=n.extractHash(n.$iframe.contentWindow.document.location.hash);e!==o?(t||(n.$iframe.contentWindow.document.open(),n.$iframe.contentWindow.document.close(),n.$iframe.contentWindow.document.location.hash=o),t=!1,n.$window.trigger("hashchange")):e!==r&&(t=!0,n.setHash(r))}}else e=function(){var o=n.getHash();n.getState()!==o&&n.$window.trigger("hashchange")};setInterval(e,200)}return!0}},o.History.construct())}(jQuery);